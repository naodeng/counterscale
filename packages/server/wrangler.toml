# Wrangler 默认读取此文件；与 wrangler.json 保持一致
main = "./workers/app.ts"
name = "counterscale"
compatibility_flags = ["nodejs_compat_v2"]
compatibility_date = "2024-12-13"

[assets]
binding = "ASSETS"
directory = "./build/client"

[[analytics_engine_datasets]]
binding = "WEB_COUNTER_AE"
dataset = "metricsDataset"

[[r2_buckets]]
bucket_name = "counterscale-daily-rollups"
preview_bucket_name = "counterscale-daily-rollups-dev"
binding = "DAILY_ROLLUPS"

[triggers]
crons = ["0 2 * * *"]
